<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Reshaping data with tidyr | Practical Spatial Data</title>
  <meta name="description" content="Dealing with spatial data for Coastal and Marine Environment in R is for people who want to analyze, visualize and model geographic data with open source software. It is based on R, a statistical programming language that has powerful data processing, manipulating, and visualizing spatial data. The book equips you with the knowledge and skills to tackle a wide range of issues manifested in geographic data, including those with scientific, societal, and environmental implications. This book will interest people from many backgrounds, especially Geographic Information Systems (GIS), who are interested in applying their domain-specific knowledge in a powerful open source language for data science, and R users interested in extending their skills to handle spatial data." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Reshaping data with tidyr | Practical Spatial Data" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://lugoga.github.io/geomarine/" />
  <meta property="og:image" content="https://lugoga.github.io/geomarine/images/coverPage.svg" />
  <meta property="og:description" content="Dealing with spatial data for Coastal and Marine Environment in R is for people who want to analyze, visualize and model geographic data with open source software. It is based on R, a statistical programming language that has powerful data processing, manipulating, and visualizing spatial data. The book equips you with the knowledge and skills to tackle a wide range of issues manifested in geographic data, including those with scientific, societal, and environmental implications. This book will interest people from many backgrounds, especially Geographic Information Systems (GIS), who are interested in applying their domain-specific knowledge in a powerful open source language for data science, and R users interested in extending their skills to handle spatial data." />
  <meta name="github-repo" content="lugoga/geomarine" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Reshaping data with tidyr | Practical Spatial Data" />
  
  <meta name="twitter:description" content="Dealing with spatial data for Coastal and Marine Environment in R is for people who want to analyze, visualize and model geographic data with open source software. It is based on R, a statistical programming language that has powerful data processing, manipulating, and visualizing spatial data. The book equips you with the knowledge and skills to tackle a wide range of issues manifested in geographic data, including those with scientific, societal, and environmental implications. This book will interest people from many backgrounds, especially Geographic Information Systems (GIS), who are interested in applying their domain-specific knowledge in a powerful open source language for data science, and R users interested in extending their skills to handle spatial data." />
  <meta name="twitter:image" content="https://lugoga.github.io/geomarine/images/coverPage.svg" />

<meta name="author" content="Masumbuko Semba" />


<meta name="date" content="2021-01-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="readr.html"/>
<link rel="next" href="dplyr.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.16/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="book.css" type="text/css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class='before'><a href="./">Practical Spatial Data: Coastal and Mrine in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#preface"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-will-you-learn"><i class="fa fa-check"></i>What will you learn?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#audience"><i class="fa fa-check"></i>Audience</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-read-this-book"><i class="fa fa-check"></i>Why read this book?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-this-book-came-to-being"><i class="fa fa-check"></i>How this book came to being</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-author"><i class="fa fa-check"></i>About the author</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction to GIS</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#what-is-a-gis"><i class="fa fa-check"></i><b>1.1</b> What is a GIS</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#gis-software"><i class="fa fa-check"></i><b>1.2</b> GIS software</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#arcgis"><i class="fa fa-check"></i><b>1.2.1</b> ArcGIS</a></li>
<li class="chapter" data-level="1.2.2" data-path="intro.html"><a href="intro.html#qgis"><i class="fa fa-check"></i><b>1.2.2</b> QGIS</a></li>
<li class="chapter" data-level="1.2.3" data-path="intro.html"><a href="intro.html#r"><i class="fa fa-check"></i><b>1.2.3</b> R</a></li>
<li class="chapter" data-level="1.2.4" data-path="intro.html"><a href="intro.html#why-r"><i class="fa fa-check"></i><b>1.2.4</b> Why R?</a></li>
<li class="chapter" data-level="1.2.5" data-path="intro.html"><a href="intro.html#rstudio"><i class="fa fa-check"></i><b>1.2.5</b> Rstudio</a></li>
<li class="chapter" data-level="1.2.6" data-path="intro.html"><a href="intro.html#why-rstudio"><i class="fa fa-check"></i><b>1.2.6</b> Why RStudio?</a></li>
<li class="chapter" data-level="1.2.7" data-path="intro.html"><a href="intro.html#packages"><i class="fa fa-check"></i><b>1.2.7</b> Packages</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#communication-of-results"><i class="fa fa-check"></i><b>1.3</b> Communication of results</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html"><i class="fa fa-check"></i><b>2</b> A glimpse of R, Rstudio and Packages</a>
<ul>
<li class="chapter" data-level="2.1" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html#the-data-analysis-workflow"><i class="fa fa-check"></i><b>2.1</b> The Data Analysis Workflow</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html#data-wrangling"><i class="fa fa-check"></i><b>2.1.1</b> Data Wrangling</a></li>
<li class="chapter" data-level="2.1.2" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html#importing-data"><i class="fa fa-check"></i><b>2.1.2</b> Importing Data</a></li>
<li class="chapter" data-level="2.1.3" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html#tidying-data"><i class="fa fa-check"></i><b>2.1.3</b> Tidying Data</a></li>
<li class="chapter" data-level="2.1.4" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html#transforming-data"><i class="fa fa-check"></i><b>2.1.4</b> Transforming Data</a></li>
<li class="chapter" data-level="2.1.5" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html#visualizing-data"><i class="fa fa-check"></i><b>2.1.5</b> Visualizing Data</a></li>
<li class="chapter" data-level="2.1.6" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html#models"><i class="fa fa-check"></i><b>2.1.6</b> Models</a></li>
<li class="chapter" data-level="2.1.7" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html#data-collaboration-and-publishing"><i class="fa fa-check"></i><b>2.1.7</b> Data Collaboration and Publishing</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html#installation"><i class="fa fa-check"></i><b>2.2</b> Installation</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html#installing-r"><i class="fa fa-check"></i><b>2.2.1</b> Installing R</a></li>
<li class="chapter" data-level="2.2.2" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html#installing-rstudio"><i class="fa fa-check"></i><b>2.2.2</b> Installing RStudio</a></li>
<li class="chapter" data-level="2.2.3" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html#installing-packages"><i class="fa fa-check"></i><b>2.2.3</b> Installing Packages</a></li>
<li class="chapter" data-level="2.2.4" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html#other-packages"><i class="fa fa-check"></i><b>2.2.4</b> Other packages</a></li>
<li class="chapter" data-level="2.2.5" data-path="a-glimpse-of-r-rstudio-and-packages.html"><a href="a-glimpse-of-r-rstudio-and-packages.html#loading-installed-packages"><i class="fa fa-check"></i><b>2.2.5</b> Loading installed packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataTypes.html"><a href="dataTypes.html"><i class="fa fa-check"></i><b>3</b> Understanding Data in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="dataTypes.html"><a href="dataTypes.html#data-types"><i class="fa fa-check"></i><b>3.1</b> Data Types</a></li>
<li class="chapter" data-level="3.2" data-path="dataTypes.html"><a href="dataTypes.html#vectors"><i class="fa fa-check"></i><b>3.2</b> Vectors</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="dataTypes.html"><a href="dataTypes.html#numeric-vector"><i class="fa fa-check"></i><b>3.2.1</b> Numeric Vector</a></li>
<li class="chapter" data-level="3.2.2" data-path="dataTypes.html"><a href="dataTypes.html#integer-vector"><i class="fa fa-check"></i><b>3.2.2</b> Integer vector</a></li>
<li class="chapter" data-level="3.2.3" data-path="dataTypes.html"><a href="dataTypes.html#character-vector"><i class="fa fa-check"></i><b>3.2.3</b> Character vector</a></li>
<li class="chapter" data-level="3.2.4" data-path="dataTypes.html"><a href="dataTypes.html#factor-vector"><i class="fa fa-check"></i><b>3.2.4</b> Factor vector</a></li>
<li class="chapter" data-level="3.2.5" data-path="dataTypes.html"><a href="dataTypes.html#logical-vector"><i class="fa fa-check"></i><b>3.2.5</b> Logical Vector</a></li>
<li class="chapter" data-level="3.2.6" data-path="dataTypes.html"><a href="dataTypes.html#date-and-time"><i class="fa fa-check"></i><b>3.2.6</b> Date and Time</a></li>
<li class="chapter" data-level="3.2.7" data-path="dataTypes.html"><a href="dataTypes.html#indexing-the-element"><i class="fa fa-check"></i><b>3.2.7</b> Indexing the element</a></li>
<li class="chapter" data-level="3.2.8" data-path="dataTypes.html"><a href="dataTypes.html#adding-and-replacing-an-element-in-a-vector"><i class="fa fa-check"></i><b>3.2.8</b> Adding and Replacing an element in a vector</a></li>
<li class="chapter" data-level="3.2.9" data-path="dataTypes.html"><a href="dataTypes.html#number-of-elements-in-a-vector"><i class="fa fa-check"></i><b>3.2.9</b> Number of elements in a vector</a></li>
<li class="chapter" data-level="3.2.10" data-path="dataTypes.html"><a href="dataTypes.html#generating-sequence-of-vectors-numbers"><i class="fa fa-check"></i><b>3.2.10</b> Generating sequence of vectors Numbers</a></li>
<li class="chapter" data-level="3.2.11" data-path="dataTypes.html"><a href="dataTypes.html#generating-vector-of-normal-distribution"><i class="fa fa-check"></i><b>3.2.11</b> Generating vector of normal distribution</a></li>
<li class="chapter" data-level="3.2.12" data-path="dataTypes.html"><a href="dataTypes.html#rounding-off-numbers"><i class="fa fa-check"></i><b>3.2.12</b> Rounding off numbers</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="dataTypes.html"><a href="dataTypes.html#data-frame"><i class="fa fa-check"></i><b>3.3</b> Data Frame</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="dataTypes.html"><a href="dataTypes.html#creating-data-frames"><i class="fa fa-check"></i><b>3.3.1</b> Creating data frames</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="dataTypes.html"><a href="dataTypes.html#matrix"><i class="fa fa-check"></i><b>3.4</b> Matrix</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="dataTypes.html"><a href="dataTypes.html#creating-matrices"><i class="fa fa-check"></i><b>3.4.1</b> Creating Matrices</a></li>
<li class="chapter" data-level="3.4.2" data-path="dataTypes.html"><a href="dataTypes.html#adding-attributes-to-matrices"><i class="fa fa-check"></i><b>3.4.2</b> Adding attributes to Matrices</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="dataTypes.html"><a href="dataTypes.html#arrays"><i class="fa fa-check"></i><b>3.5</b> Arrays</a></li>
<li class="chapter" data-level="3.6" data-path="dataTypes.html"><a href="dataTypes.html#dealing-with-misiing-values"><i class="fa fa-check"></i><b>3.6</b> Dealing with Misiing Values</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="readr.html"><a href="readr.html"><i class="fa fa-check"></i><b>4</b> Importing data with <strong>readr</strong></a>
<ul>
<li class="chapter" data-level="4.1" data-path="readr.html"><a href="readr.html#getting-data-into-r"><i class="fa fa-check"></i><b>4.1</b> Getting Data into R</a></li>
<li class="chapter" data-level="4.2" data-path="readr.html"><a href="readr.html#comma-separated-.csv"><i class="fa fa-check"></i><b>4.2</b> Comma-Separated (.csv)</a></li>
<li class="chapter" data-level="4.3" data-path="readr.html"><a href="readr.html#microsoft-excel.xlsx"><i class="fa fa-check"></i><b>4.3</b> Microsoft Excel(.xlsx)</a></li>
<li class="chapter" data-level="4.4" data-path="readr.html"><a href="readr.html#writing-t-a-file"><i class="fa fa-check"></i><b>4.4</b> Writing t a File</a></li>
<li class="chapter" data-level="4.5" data-path="readr.html"><a href="readr.html#basic-data-manipulation"><i class="fa fa-check"></i><b>4.5</b> Basic Data Manipulation</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="readr.html"><a href="readr.html#explore-the-data-frame"><i class="fa fa-check"></i><b>4.5.1</b> Explore the Data Frame</a></li>
<li class="chapter" data-level="4.5.2" data-path="readr.html"><a href="readr.html#simmple-summary-statistics"><i class="fa fa-check"></i><b>4.5.2</b> simmple summary statistics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tidy.html"><a href="tidy.html"><i class="fa fa-check"></i><b>5</b> Reshaping data with <strong>tidyr</strong></a>
<ul>
<li class="chapter" data-level="5.1" data-path="tidy.html"><a href="tidy.html#what-is-tidy-data"><i class="fa fa-check"></i><b>5.1</b> What is Tidy Data?</a></li>
<li class="chapter" data-level="5.2" data-path="tidy.html"><a href="tidy.html#gatherfrom-wide-to-long-format."><i class="fa fa-check"></i><b>5.2</b> Gather—from wide to long format.</a></li>
<li class="chapter" data-level="5.3" data-path="tidy.html"><a href="tidy.html#spreadfrom-long-to-wide-format"><i class="fa fa-check"></i><b>5.3</b> spread—from long to wide format</a></li>
<li class="chapter" data-level="5.4" data-path="tidy.html"><a href="tidy.html#separate-columns"><i class="fa fa-check"></i><b>5.4</b> separate columns</a></li>
<li class="chapter" data-level="5.5" data-path="tidy.html"><a href="tidy.html#unite-columns"><i class="fa fa-check"></i><b>5.5</b> unite columns</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>6</b> Manipulating Data with <strong>dplyr</strong></a>
<ul>
<li class="chapter" data-level="6.1" data-path="dplyr.html"><a href="dplyr.html#why-use-dplyr"><i class="fa fa-check"></i><b>6.1</b> Why use dplyr?</a></li>
<li class="chapter" data-level="6.2" data-path="dplyr.html"><a href="dplyr.html#core-dplyr-functions"><i class="fa fa-check"></i><b>6.2</b> Core dplyr Functions</a></li>
<li class="chapter" data-level="6.3" data-path="dplyr.html"><a href="dplyr.html#data"><i class="fa fa-check"></i><b>6.3</b> Data</a></li>
<li class="chapter" data-level="6.4" data-path="dplyr.html"><a href="dplyr.html#choosing-rows-filtering-observations"><i class="fa fa-check"></i><b>6.4</b> Choosing rows: Filtering observations</a></li>
<li class="chapter" data-level="6.5" data-path="dplyr.html"><a href="dplyr.html#select"><i class="fa fa-check"></i><b>6.5</b> select</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="dplyr.html"><a href="dplyr.html#adding-new-variables-mutate-transmute-add_rownames"><i class="fa fa-check"></i><b>6.5.1</b> Adding new variables: mutate, transmute, add_rownames</a></li>
<li class="chapter" data-level="6.5.2" data-path="dplyr.html"><a href="dplyr.html#arranging-rows"><i class="fa fa-check"></i><b>6.5.2</b> Arranging rows</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="dplyr.html"><a href="dplyr.html#summarizing-and-grouping"><i class="fa fa-check"></i><b>6.6</b> Summarizing and Grouping</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html"><i class="fa fa-check"></i><b>7</b> Plotting in R with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="7.1" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#a-dataset"><i class="fa fa-check"></i><b>7.1</b> A dataset</a></li>
<li class="chapter" data-level="7.2" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#components-of-ggplot-objects-components"><i class="fa fa-check"></i><b>7.2</b> Components of ggplot objects {components}</a></li>
<li class="chapter" data-level="7.3" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#building-a-plot"><i class="fa fa-check"></i><b>7.3</b> Building a plot</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#plotting-layers"><i class="fa fa-check"></i><b>7.3.1</b> Plotting layers</a></li>
<li class="chapter" data-level="7.3.2" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#customize-legend"><i class="fa fa-check"></i><b>7.3.2</b> Customize legend</a></li>
<li class="chapter" data-level="7.3.3" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#working-with-titles-and-labels"><i class="fa fa-check"></i><b>7.3.3</b> Working with titles and labels</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#customize-glidline-and-axis-labels"><i class="fa fa-check"></i><b>7.4</b> Customize glidline and axis labels</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#remove-the-gray-box-of-points-on-legend"><i class="fa fa-check"></i><b>7.4.1</b> Remove the gray box of points on legend</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#modify-the-position-of-the-legend"><i class="fa fa-check"></i><b>7.5</b> Modify the position of the legend</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#change-the-legend-background-and-stroke-color"><i class="fa fa-check"></i><b>7.5.1</b> Change the legend background and stroke color</a></li>
<li class="chapter" data-level="7.5.2" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#modify-background-colors"><i class="fa fa-check"></i><b>7.5.2</b> Modify background colors</a></li>
<li class="chapter" data-level="7.5.3" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#change-the-gridlines"><i class="fa fa-check"></i><b>7.5.3</b> change the gridlines</a></li>
<li class="chapter" data-level="7.5.4" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#change-the-font-size-for-axis-labels-and-titles"><i class="fa fa-check"></i><b>7.5.4</b> Change the font size for axis, labels and titles</a></li>
<li class="chapter" data-level="7.5.5" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#limit-axis-to-a-range"><i class="fa fa-check"></i><b>7.5.5</b> Limit axis to a range</a></li>
<li class="chapter" data-level="7.5.6" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#adding-labels"><i class="fa fa-check"></i><b>7.5.6</b> Adding labels</a></li>
<li class="chapter" data-level="7.5.7" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#add-text-annotation"><i class="fa fa-check"></i><b>7.5.7</b> Add text annotation</a></li>
<li class="chapter" data-level="7.5.8" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#make-the-x-and-y-axis-the-same"><i class="fa fa-check"></i><b>7.5.8</b> Make the x and y axis the same</a></li>
<li class="chapter" data-level="7.5.9" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#faceting-creating-multipanel-plots"><i class="fa fa-check"></i><b>7.5.9</b> Faceting —Creating multi–panel plots</a></li>
<li class="chapter" data-level="7.5.10" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#allow-scales-to-roam-free-scales"><i class="fa fa-check"></i><b>7.5.10</b> Allow scales to roam free (scales)</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#basic-plots"><i class="fa fa-check"></i><b>7.6</b> Basic plots</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#scatterplot"><i class="fa fa-check"></i><b>7.6.1</b> scatterplot</a></li>
<li class="chapter" data-level="7.6.2" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#adding-regression-line"><i class="fa fa-check"></i><b>7.6.2</b> adding regression line</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#linegraph"><i class="fa fa-check"></i><b>7.7</b> Linegraph</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#histogram"><i class="fa fa-check"></i><b>7.7.1</b> histogram</a></li>
<li class="chapter" data-level="7.7.2" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#boxplot"><i class="fa fa-check"></i><b>7.7.2</b> boxplot</a></li>
<li class="chapter" data-level="7.7.3" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#barplot"><i class="fa fa-check"></i><b>7.7.3</b> barplot</a></li>
<li class="chapter" data-level="7.7.4" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#barplot-for-values"><i class="fa fa-check"></i><b>7.7.4</b> barplot for values</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#advanced-plots"><i class="fa fa-check"></i><b>7.8</b> Advanced plots</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#facets"><i class="fa fa-check"></i><b>7.8.1</b> Facets</a></li>
<li class="chapter" data-level="7.8.2" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#sea-surface-temperature"><i class="fa fa-check"></i><b>7.8.2</b> Sea Surface Temperature</a></li>
<li class="chapter" data-level="7.8.3" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#subplot"><i class="fa fa-check"></i><b>7.8.3</b> Subplot</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#colour"><i class="fa fa-check"></i><b>7.9</b> Colour</a></li>
<li class="chapter" data-level="7.10" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#size"><i class="fa fa-check"></i><b>7.10</b> size</a></li>
<li class="chapter" data-level="7.11" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#scaling"><i class="fa fa-check"></i><b>7.11</b> scaling</a></li>
<li class="chapter" data-level="7.12" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#guides"><i class="fa fa-check"></i><b>7.12</b> Guides</a></li>
<li class="chapter" data-level="7.13" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#add-on-packages"><i class="fa fa-check"></i><b>7.13</b> Add-on packages</a></li>
<li class="chapter" data-level="7.14" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#ggridges"><i class="fa fa-check"></i><b>7.14</b> ggridges</a></li>
<li class="chapter" data-level="7.15" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#varying-fill-colors-along-the-x-axis"><i class="fa fa-check"></i><b>7.15</b> Varying fill colors along the x axis</a></li>
<li class="chapter" data-level="7.16" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#metr"><i class="fa fa-check"></i><b>7.16</b> metR</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="feature.html"><a href="feature.html"><i class="fa fa-check"></i><b>8</b> Feature Representation</a>
<ul>
<li class="chapter" data-level="8.1" data-path="feature.html"><a href="feature.html#vector"><i class="fa fa-check"></i><b>8.1</b> Vector</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="feature.html"><a href="feature.html#a-point"><i class="fa fa-check"></i><b>8.1.1</b> A point</a></li>
<li class="chapter" data-level="8.1.2" data-path="feature.html"><a href="feature.html#polyline"><i class="fa fa-check"></i><b>8.1.2</b> Polyline</a></li>
<li class="chapter" data-level="8.1.3" data-path="feature.html"><a href="feature.html#polygon"><i class="fa fa-check"></i><b>8.1.3</b> Polygon</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="feature.html"><a href="feature.html#raster"><i class="fa fa-check"></i><b>8.2</b> Raster</a></li>
<li class="chapter" data-level="8.3" data-path="feature.html"><a href="feature.html#important-gis-data-formats"><i class="fa fa-check"></i><b>8.3</b> Important GIS data formats</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="feature.html"><a href="feature.html#shapefiles"><i class="fa fa-check"></i><b>8.3.1</b> Shapefiles</a></li>
<li class="chapter" data-level="8.3.2" data-path="feature.html"><a href="feature.html#raster-1"><i class="fa fa-check"></i><b>8.3.2</b> Raster</a></li>
<li class="chapter" data-level="8.3.3" data-path="feature.html"><a href="feature.html#attribute-tables"><i class="fa fa-check"></i><b>8.3.3</b> Attribute Tables</a></li>
<li class="chapter" data-level="8.3.4" data-path="feature.html"><a href="feature.html#geodatabase"><i class="fa fa-check"></i><b>8.3.4</b> Geodatabase</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="feature.html"><a href="feature.html#coordinate-reference-systems"><i class="fa fa-check"></i><b>8.4</b> Coordinate reference systems</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="feature.html"><a href="feature.html#geographic-coordinate-systems"><i class="fa fa-check"></i><b>8.4.1</b> Geographic coordinate systems</a></li>
<li class="chapter" data-level="8.4.2" data-path="feature.html"><a href="feature.html#projected-coordinate-systems"><i class="fa fa-check"></i><b>8.4.2</b> Projected coordinate systems</a></li>
<li class="chapter" data-level="8.4.3" data-path="feature.html"><a href="feature.html#setting-coordinate-reference-systems-in-r"><i class="fa fa-check"></i><b>8.4.3</b> Setting Coordinate Reference Systems in R</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="feature.html"><a href="feature.html#practicals"><i class="fa fa-check"></i><b>8.5</b> Practicals</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="feature.html"><a href="feature.html#plotting-point-data"><i class="fa fa-check"></i><b>8.5.1</b> Plotting Point Data</a></li>
<li class="chapter" data-level="8.5.2" data-path="feature.html"><a href="feature.html#geographic-coordinate-sytem"><i class="fa fa-check"></i><b>8.5.2</b> Geographic Coordinate Sytem</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="feature.html"><a href="feature.html#summary"><i class="fa fa-check"></i><b>8.6</b> Summary</a></li>
<li class="chapter" data-level="8.7" data-path="feature.html"><a href="feature.html#questions"><i class="fa fa-check"></i><b>8.7</b> Questions</a></li>
<li class="chapter" data-level="8.8" data-path="feature.html"><a href="feature.html#further-readings"><i class="fa fa-check"></i><b>8.8</b> FUrther readings</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="creating-geospatial-data.html"><a href="creating-geospatial-data.html"><i class="fa fa-check"></i><b>9</b> Creating Geospatial Data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="creating-geospatial-data.html"><a href="creating-geospatial-data.html#getting-data-from-the-web"><i class="fa fa-check"></i><b>9.1</b> Getting data from the web</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="creating-geospatial-data.html"><a href="creating-geospatial-data.html#usage"><i class="fa fa-check"></i><b>9.1.1</b> Usage</a></li>
<li class="chapter" data-level="9.1.2" data-path="creating-geospatial-data.html"><a href="creating-geospatial-data.html#to-download-natural-earth-data-not-already-in-the-package"><i class="fa fa-check"></i><b>9.1.2</b> To download Natural Earth data not already in the package</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="creating-geospatial-data.html"><a href="creating-geospatial-data.html#creating-point-data"><i class="fa fa-check"></i><b>9.2</b> Creating Point Data</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="creating-geospatial-data.html"><a href="creating-geospatial-data.html#creating-point-features"><i class="fa fa-check"></i><b>9.2.1</b> Creating point features</a></li>
<li class="chapter" data-level="9.2.2" data-path="creating-geospatial-data.html"><a href="creating-geospatial-data.html#creating-line-features"><i class="fa fa-check"></i><b>9.2.2</b> Creating line features</a></li>
<li class="chapter" data-level="9.2.3" data-path="creating-geospatial-data.html"><a href="creating-geospatial-data.html#creating-polygon-features"><i class="fa fa-check"></i><b>9.2.3</b> Creating Polygon features</a></li>
<li class="chapter" data-level="9.2.4" data-path="creating-geospatial-data.html"><a href="creating-geospatial-data.html#adding-features-to-vector-data"><i class="fa fa-check"></i><b>9.2.4</b> Adding features to vector data</a></li>
<li class="chapter" data-level="9.2.5" data-path="creating-geospatial-data.html"><a href="creating-geospatial-data.html#digitizing-a-map"><i class="fa fa-check"></i><b>9.2.5</b> Digitizing a map</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="creating-geospatial-data.html"><a href="creating-geospatial-data.html#summary-1"><i class="fa fa-check"></i><b>9.3</b> Summary</a></li>
<li class="chapter" data-level="9.4" data-path="creating-geospatial-data.html"><a href="creating-geospatial-data.html#questions-1"><i class="fa fa-check"></i><b>9.4</b> Questions</a></li>
<li class="chapter" data-level="9.5" data-path="creating-geospatial-data.html"><a href="creating-geospatial-data.html#further-reading"><i class="fa fa-check"></i><b>9.5</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="working-with-vector-data-in-r.html"><a href="working-with-vector-data-in-r.html"><i class="fa fa-check"></i><b>10</b> Working with vector data in R</a>
<ul>
<li class="chapter" data-level="10.1" data-path="working-with-vector-data-in-r.html"><a href="working-with-vector-data-in-r.html#combining-shapefile-in-r"><i class="fa fa-check"></i><b>10.1</b> Combining shapefile in R</a></li>
<li class="chapter" data-level="10.2" data-path="working-with-vector-data-in-r.html"><a href="working-with-vector-data-in-r.html#clipping-in-r"><i class="fa fa-check"></i><b>10.2</b> Clipping in R</a></li>
<li class="chapter" data-level="10.3" data-path="working-with-vector-data-in-r.html"><a href="working-with-vector-data-in-r.html#differences-in-r"><i class="fa fa-check"></i><b>10.3</b> DIfferences in R</a></li>
<li class="chapter" data-level="10.4" data-path="working-with-vector-data-in-r.html"><a href="working-with-vector-data-in-r.html#area-calculation-in-r"><i class="fa fa-check"></i><b>10.4</b> Area calculation in R</a></li>
<li class="chapter" data-level="10.5" data-path="working-with-vector-data-in-r.html"><a href="working-with-vector-data-in-r.html#buffer"><i class="fa fa-check"></i><b>10.5</b> Buffer</a></li>
<li class="chapter" data-level="10.6" data-path="working-with-vector-data-in-r.html"><a href="working-with-vector-data-in-r.html#intersection"><i class="fa fa-check"></i><b>10.6</b> Intersection</a></li>
<li class="chapter" data-level="10.7" data-path="working-with-vector-data-in-r.html"><a href="working-with-vector-data-in-r.html#statistical-summary-of-vector-layers"><i class="fa fa-check"></i><b>10.7</b> Statistical summary of vector layers</a></li>
<li class="chapter" data-level="10.8" data-path="working-with-vector-data-in-r.html"><a href="working-with-vector-data-in-r.html#summary-2"><i class="fa fa-check"></i><b>10.8</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="working-with-raster-data-in-r.html"><a href="working-with-raster-data-in-r.html"><i class="fa fa-check"></i><b>11</b> Working with raster data in R</a>
<ul>
<li class="chapter" data-level="11.1" data-path="working-with-raster-data-in-r.html"><a href="working-with-raster-data-in-r.html#nc-data"><i class="fa fa-check"></i><b>11.1</b> NC data</a></li>
<li class="chapter" data-level="11.2" data-path="working-with-raster-data-in-r.html"><a href="working-with-raster-data-in-r.html#changing-the-projection-system-of-a-raster-file"><i class="fa fa-check"></i><b>11.2</b> Changing the projection system of a raster file</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="working-with-raster-data-in-r.html"><a href="working-with-raster-data-in-r.html#reading-tiff-format"><i class="fa fa-check"></i><b>11.2.1</b> Reading Tiff format</a></li>
<li class="chapter" data-level="11.2.2" data-path="working-with-raster-data-in-r.html"><a href="working-with-raster-data-in-r.html#reclassifying-rasters"><i class="fa fa-check"></i><b>11.2.2</b> Reclassifying rasters</a></li>
<li class="chapter" data-level="11.2.3" data-path="working-with-raster-data-in-r.html"><a href="working-with-raster-data-in-r.html#mapping-raster"><i class="fa fa-check"></i><b>11.2.3</b> Mapping raster</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="working-with-raster-data-in-r.html"><a href="working-with-raster-data-in-r.html#summary-3"><i class="fa fa-check"></i><b>11.3</b> Summary</a></li>
<li class="chapter" data-level="11.4" data-path="working-with-raster-data-in-r.html"><a href="working-with-raster-data-in-r.html#questions-2"><i class="fa fa-check"></i><b>11.4</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="maps.html"><a href="maps.html"><i class="fa fa-check"></i><b>12</b> Maps</a>
<ul>
<li class="chapter" data-level="12.1" data-path="maps.html"><a href="maps.html#geographical-data-in-a-tidy-format"><i class="fa fa-check"></i><b>12.1</b> Geographical data in a tidy format</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="maps.html"><a href="maps.html#create-simple-feature-from-data.frame"><i class="fa fa-check"></i><b>12.1.1</b> Create simple feature from data.frame</a></li>
<li class="chapter" data-level="12.1.2" data-path="maps.html"><a href="maps.html#importing-shapefile"><i class="fa fa-check"></i><b>12.1.2</b> Importing shapefile</a></li>
<li class="chapter" data-level="12.1.3" data-path="maps.html"><a href="maps.html#reading-other-format"><i class="fa fa-check"></i><b>12.1.3</b> Reading other format</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="maps.html"><a href="maps.html#introduction"><i class="fa fa-check"></i><b>12.2</b> Introduction</a></li>
<li class="chapter" data-level="12.3" data-path="maps.html"><a href="maps.html#static-maps"><i class="fa fa-check"></i><b>12.3</b> Static Maps</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="maps.html"><a href="maps.html#the-bathmetry-data"><i class="fa fa-check"></i><b>12.3.1</b> The bathmetry data</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="maps.html"><a href="maps.html#basemap"><i class="fa fa-check"></i><b>12.4</b> Basemap</a></li>
<li class="chapter" data-level="12.5" data-path="maps.html"><a href="maps.html#creating-contour-map"><i class="fa fa-check"></i><b>12.5</b> Creating contour map</a></li>
<li class="chapter" data-level="12.6" data-path="maps.html"><a href="maps.html#inset-maps"><i class="fa fa-check"></i><b>12.6</b> Inset maps</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="maps.html"><a href="maps.html#choropleth-maps"><i class="fa fa-check"></i><b>12.6.1</b> Choropleth maps</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="maps.html"><a href="maps.html#animated-maps"><i class="fa fa-check"></i><b>12.7</b> Animated maps</a></li>
<li class="chapter" data-level="12.8" data-path="maps.html"><a href="maps.html#interactive-maps"><i class="fa fa-check"></i><b>12.8</b> Interactive maps</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="c20.html"><a href="c20.html"><i class="fa fa-check"></i><b>13</b> Appendices</a>
<ul>
<li class="chapter" data-level="13.1" data-path="c20.html"><a href="c20.html#practical-a-getting-started"><i class="fa fa-check"></i><b>13.1</b> Practical A: Getting started</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="c20.html"><a href="c20.html#install-necessary-packages"><i class="fa fa-check"></i><b>13.1.1</b> Install necessary packages</a></li>
<li class="chapter" data-level="13.1.2" data-path="c20.html"><a href="c20.html#create-an-rstudio-project"><i class="fa fa-check"></i><b>13.1.2</b> Create An Rstudio Project</a></li>
<li class="chapter" data-level="13.1.3" data-path="c20.html"><a href="c20.html#create-an-r-markdown-file"><i class="fa fa-check"></i><b>13.1.3</b> Create an R Markdown file</a></li>
<li class="chapter" data-level="13.1.4" data-path="c20.html"><a href="c20.html#create-new-folders"><i class="fa fa-check"></i><b>13.1.4</b> Create New folders</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="c20.html"><a href="c20.html#practical-b-working-with-climate-data"><i class="fa fa-check"></i><b>13.2</b> Practical B: Working with climate data</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="c20.html"><a href="c20.html#part-1-rasters"><i class="fa fa-check"></i><b>13.2.1</b> Part 1: rasters</a></li>
<li class="chapter" data-level="13.2.2" data-path="c20.html"><a href="c20.html#part-2-descriptive-statistics"><i class="fa fa-check"></i><b>13.2.2</b> Part 2 descriptive statistics</a></li>
<li class="chapter" data-level="13.2.3" data-path="c20.html"><a href="c20.html#using-more-data"><i class="fa fa-check"></i><b>13.2.3</b> Using more data</a></li>
<li class="chapter" data-level="13.2.4" data-path="c20.html"><a href="c20.html#wind"><i class="fa fa-check"></i><b>13.2.4</b> Wind</a></li>
<li class="chapter" data-level="13.2.5" data-path="c20.html"><a href="c20.html#precipitation"><i class="fa fa-check"></i><b>13.2.5</b> Precipitation</a></li>
<li class="chapter" data-level="13.2.6" data-path="c20.html"><a href="c20.html#advanced-analysis"><i class="fa fa-check"></i><b>13.2.6</b> Advanced analysis</a></li>
<li class="chapter" data-level="13.2.7" data-path="c20.html"><a href="c20.html#stars-package"><i class="fa fa-check"></i><b>13.2.7</b> stars package</a></li>
<li class="chapter" data-level="13.2.8" data-path="c20.html"><a href="c20.html#dplyr-package"><i class="fa fa-check"></i><b>13.2.8</b> dplyr package</a></li>
<li class="chapter" data-level="13.2.9" data-path="c20.html"><a href="c20.html#cubelyr"><i class="fa fa-check"></i><b>13.2.9</b> cubelyr</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="c20.html"><a href="c20.html#practical-c-finding-loading-and-cleaning-spatial-data"><i class="fa fa-check"></i><b>13.3</b> Practical C: Finding, loading, and cleaning Spatial data</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="c20.html"><a href="c20.html#thinking-about-map-data-the-way-r-does"><i class="fa fa-check"></i><b>13.3.1</b> Thinking about map data the way R does</a></li>
<li class="chapter" data-level="13.3.2" data-path="c20.html"><a href="c20.html#a-brief-introduction-to-simple-features-data-in-r"><i class="fa fa-check"></i><b>13.3.2</b> A brief introduction to simple features data in R</a></li>
<li class="chapter" data-level="13.3.3" data-path="c20.html"><a href="c20.html#finding-data"><i class="fa fa-check"></i><b>13.3.3</b> Finding data</a></li>
<li class="chapter" data-level="13.3.4" data-path="c20.html"><a href="c20.html#finding-non-geospatial-data"><i class="fa fa-check"></i><b>13.3.4</b> Finding non-geospatial data</a></li>
<li class="chapter" data-level="13.3.5" data-path="c20.html"><a href="c20.html#combining-spatial-data-with-non-spatial-data"><i class="fa fa-check"></i><b>13.3.5</b> Combining spatial data with non-spatial data</a></li>
<li class="chapter" data-level="13.3.6" data-path="c20.html"><a href="c20.html#conclusion"><i class="fa fa-check"></i><b>13.3.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="c20.html"><a href="c20.html#practical-d-making-maps-with-ggplot2"><i class="fa fa-check"></i><b>13.4</b> Practical D: Making maps with ggplot2</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="c20.html"><a href="c20.html#import-and-clean-the-datasets"><i class="fa fa-check"></i><b>13.4.1</b> Import and clean the datasets</a></li>
<li class="chapter" data-level="13.4.2" data-path="c20.html"><a href="c20.html#add-highlights-and-annotations"><i class="fa fa-check"></i><b>13.4.2</b> Add highlights and annotations</a></li>
<li class="chapter" data-level="13.4.3" data-path="c20.html"><a href="c20.html#inset-map"><i class="fa fa-check"></i><b>13.4.3</b> inset map</a></li>
<li class="chapter" data-level="13.4.4" data-path="c20.html"><a href="c20.html#final-beautification"><i class="fa fa-check"></i><b>13.4.4</b> Final beautification</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="c20.html"><a href="c20.html#practical-e-the-bathmetry-data"><i class="fa fa-check"></i><b>13.5</b> Practical E: The bathmetry data</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="c20.html"><a href="c20.html#zoom-in-on-a-region-of-interest"><i class="fa fa-check"></i><b>13.5.1</b> Zoom in on a region of interest</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="c20.html"><a href="c20.html#practical-f-drawing-maps-programmatically-with-r"><i class="fa fa-check"></i><b>13.6</b> Practical F: Drawing maps programmatically with R</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="c20.html"><a href="c20.html#a-solution-using-r-and-its-ecosystem-of-packages"><i class="fa fa-check"></i><b>13.6.1</b> A solution using R and its ecosystem of packages</a></li>
<li class="chapter" data-level="13.6.2" data-path="c20.html"><a href="c20.html#getting-started"><i class="fa fa-check"></i><b>13.6.2</b> Getting started</a></li>
<li class="chapter" data-level="13.6.3" data-path="c20.html"><a href="c20.html#data-and-basic-plot-ggplot-and-geom_sf"><i class="fa fa-check"></i><b>13.6.3</b> Data and basic plot (<code>ggplot</code> and <code>geom_sf</code>)</a></li>
<li class="chapter" data-level="13.6.4" data-path="c20.html"><a href="c20.html#title-subtitle-and-axis-labels-ggtitle-xlab-ylab"><i class="fa fa-check"></i><b>13.6.4</b> Title, subtitle, and axis labels (<code>ggtitle</code>, <code>xlab</code>, <code>ylab</code>)</a></li>
<li class="chapter" data-level="13.6.5" data-path="c20.html"><a href="c20.html#map-color-geom_sf"><i class="fa fa-check"></i><b>13.6.5</b> Map color (<code>geom_sf</code>)</a></li>
<li class="chapter" data-level="13.6.6" data-path="c20.html"><a href="c20.html#projection-and-extent-coord_sf"><i class="fa fa-check"></i><b>13.6.6</b> Projection and extent (<code>coord_sf</code>)</a></li>
<li class="chapter" data-level="13.6.7" data-path="c20.html"><a href="c20.html#scale-bar-and-north-arrow-package-ggspatial"><i class="fa fa-check"></i><b>13.6.7</b> Scale bar and North arrow (package <code>ggspatial</code>)</a></li>
<li class="chapter" data-level="13.6.8" data-path="c20.html"><a href="c20.html#country-names-and-other-names-geom_text-and-annotate"><i class="fa fa-check"></i><b>13.6.8</b> Country names and other names (<code>geom_text</code> and <code>annotate</code>)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li class='after'">
   <a href="https://lugoga.github.io/geomarine/" aria-label='Author Website Link'>
      <img src="images/geoR.svg" style="width:25%; padding:0px 0; display:block; margin: 0 auto;" alt="MC logo">
   </a>
</li>
<li class='after'">
   <div style='text-align:center'>
      <a https://github.com/lugoga/geomarine/" aria-label='GitHub Link'>
         <i class="fab fa-github fa-2x" aria-hidden="true"></i>
      </a>
   </div>
</li>
<li class='after'">
   <div style='text-align:center'>
      <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" aria-label="Creative commons CCBYSA link">
         <i class="fab fa-creative-commons fa-lg"></i> 
         <i class="fab fa-creative-commons-by fa-lg"></i> 
         <i class="fab fa-creative-commons-sa fa-lg"></i>
      </a>
   </div>
</li>      

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Practical Spatial Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tidy" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> Reshaping data with <strong>tidyr</strong></h1>
<div id="what-is-tidy-data" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> What is Tidy Data?</h2>
<p>Most statistical datasets are data frames made up of rows and columns. The columns are almost always labeled and the rows are sometimes labeled. One of the key task in data preparation is <em>to organize a dataset in a way that makes analysis and plottng easier</em>. In practice, the data is often not stored like that and the data comes to us with repeated observations included on a single row. This is often done as a memory saving technique or because there is some structure in the data that makes the ‘wide’ format attractive. As a result, we need a way to convert data from <em>wide</em><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> to <em>long</em><a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> and vice-versa <span class="citation">(Semba and Peter <a href="#ref-wior" role="doc-biblioref">2020</a>)</span>.</p>
<p>Structuring data frames to have the desired shape can be the most daunting part of statistical analysis, visualization, and modeling. Several studies reported that 80% of data analysis is spent on the cleaning and preparing data. Tidy in this context means organize the data in a presentable and consistent format that facilitate data analysis and visualization. When you are doing data preparation in R for analysis or plottng, the first thing you do is a thoroughly mental thought on the desired structure of that data frame. You need to determine what each row and column will represent, so that you can consistently and clearly manipulate that data (e.g., you know what you will be selecting and what you will be filtering).</p>
<p>There are basically three principles that we can follow to make a tidy dataset.</p>
<ul>
<li>First each variable must have its own a column,</li>
<li>second each observation must have its own row, and</li>
<li>finally, each cell must have its own value.</li>
</ul>
<p>The <strong>tidyr</strong> package is designed to structure and work with data frames that follow three principles of tidy data. There are advantages of using tidy data in R.</p>
<ul>
<li>First, having a consistent, uniform data structure is very important. Popular packages like <strong>dplyr</strong> <span class="citation">(Wickham, François, et al. <a href="#ref-dplyr" role="doc-biblioref">2020</a>)</span>, <strong>ggplot2</strong> <span class="citation">(Wickham <a href="#ref-ggplot" role="doc-biblioref">2016</a>)</span>, and all the other packages in the <strong>tidyverse</strong> <span class="citation">(Wickham, Averick, et al. <a href="#ref-tidyverse" role="doc-biblioref">2019</a>)</span> and their extensions like <strong>sf</strong> <span class="citation">(Pebesma <a href="#ref-sf" role="doc-biblioref">2018</a>)</span>, <strong>metR</strong> <span class="citation">(Campitelli <a href="#ref-metr" role="doc-biblioref">2019</a>)</span>, <strong>ggspatial</strong> <span class="citation">(Dunnington <a href="#ref-ggspatial" role="doc-biblioref">2020</a>)</span>, <strong>ggrepel</strong> <span class="citation">(Slowikowski <a href="#ref-ggrepel" role="doc-biblioref">2020</a>)</span> etc are designed to work with tidy data <span class="citation">(Wickham <a href="#ref-tidyr" role="doc-biblioref">2020</a>)</span>. So consistent of tidy data ensure efficient processing, analysis and plotting of data.</li>
<li>Third, placing variables into columns, facilities easy vectorization in R.</li>
</ul>
<p>Unfortunate, Many datasets that you receive are untidy and will require some work on your end. There are several reasons why a dataset is messy.</p>
<ul>
<li>Often times the people who created the dataset aren’t familiar with the principles of tidy data.</li>
<li>Another common reason that most datasets are messy is that data is often organized to facilitate something other than analysis.</li>
<li>Data entry is perhaps the most common of the reasons that fall into this category.</li>
</ul>
<p>To make data entry as easy as possible, people will often arrange data in ways that aren’t tidy. So, many datasets require some sort of tidying before you can begin your analysis.</p>
<p>As <span class="citation">Wickham and Grolemund (<a href="#ref-r4ds" role="doc-biblioref">2016</a>)</span> put it tidy data means that yo can plot or summarize the data efficiently. In othet words, it comes down to which data is represented as columns in a data frame and which is not.In principle, this means that there is column in the data frame that you can work with for the analysis you want to do. For example, if I want to look at the ctd dataset and see how the fluorescence varies among station in the upper water surface, we simply plot a boxplot of the station column against the fluorescence column shown in figure <a href="tidy.html#fig:floro-station">5.1</a></p>
<div class="figure" style="text-align: center"><span id="fig:floro-station"></span>
<img src="geoMarine_files/figure-html/floro-station-1.png" alt="Fluorescence variation against stations" width="288" />
<p class="caption">
Figure 5.1: Fluorescence variation against stations
</p>
</div>
<p>This works because I have a column for the x-axis and another for the y-axis. But what happens if I want to plot the different measurements of the irises to see how those are? Each measurement is a separate column. They are Petal.Length, Petal.Width, and so on.Now I have a bit of a problem because the different measurements are in different columns in my data frame. I cannot easily map them to an x-axis and a y-axis.The tidyr package addresses that. It contains functions for both mapping columns to values—, widely recognised as long format and for mapping back from values to columns—wide format.</p>
<p>We are going to look for the function that are regularly used to tidy the data frames. These inlude:</p>
<ul>
<li>Gathering</li>
<li>Spreading</li>
<li>Separating</li>
<li>Uniting</li>
</ul>
</div>
<div id="gatherfrom-wide-to-long-format." class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Gather—from wide to long format.</h2>
<p>Look at example of dataset. It has one common problem that the column names are not variables but rather values of a variable. In the table <a href="tidy.html#tab:wide-format">5.1</a>, the columns are actually values of the variable pressure. Each row in the existing table actually represents five observations from each station.</p>
<table>
<caption>
<span id="tab:wide-format">Table 5.1: </span>Wide format format
</caption>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="11">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Water Depth (meters)
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
station
</th>
<th style="text-align:right;">
10
</th>
<th style="text-align:right;">
20
</th>
<th style="text-align:right;">
30
</th>
<th style="text-align:right;">
40
</th>
<th style="text-align:right;">
50
</th>
<th style="text-align:right;">
60
</th>
<th style="text-align:right;">
70
</th>
<th style="text-align:right;">
80
</th>
<th style="text-align:right;">
90
</th>
<th style="text-align:right;">
100
</th>
<th style="text-align:right;">
110
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;width: 2cm; ">
st1
</td>
<td style="text-align:right;width: 2cm; ">
0.599
</td>
<td style="text-align:right;width: 2cm; ">
0.678
</td>
<td style="text-align:right;width: 2cm; ">
0.729
</td>
<td style="text-align:right;width: 2cm; ">
0.693
</td>
<td style="text-align:right;width: 2cm; ">
0.752
</td>
<td style="text-align:right;width: 2cm; ">
1.098
</td>
<td style="text-align:right;width: 2cm; ">
0.857
</td>
<td style="text-align:right;width: 2cm; ">
0.481
</td>
<td style="text-align:right;width: 2cm; ">
0.313
</td>
<td style="text-align:right;width: 2cm; ">
0.221
</td>
<td style="text-align:right;width: 2cm; ">
0.138
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; ">
st2
</td>
<td style="text-align:right;width: 2cm; ">
0.631
</td>
<td style="text-align:right;width: 2cm; ">
0.733
</td>
<td style="text-align:right;width: 2cm; ">
0.992
</td>
<td style="text-align:right;width: 2cm; ">
1.114
</td>
<td style="text-align:right;width: 2cm; ">
0.988
</td>
<td style="text-align:right;width: 2cm; ">
0.715
</td>
<td style="text-align:right;width: 2cm; ">
0.496
</td>
<td style="text-align:right;width: 2cm; ">
0.524
</td>
<td style="text-align:right;width: 2cm; ">
0.280
</td>
<td style="text-align:right;width: 2cm; ">
0.277
</td>
<td style="text-align:right;width: 2cm; ">
0.225
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; ">
st3
</td>
<td style="text-align:right;width: 2cm; ">
0.980
</td>
<td style="text-align:right;width: 2cm; ">
0.934
</td>
<td style="text-align:right;width: 2cm; ">
1.149
</td>
<td style="text-align:right;width: 2cm; ">
1.200
</td>
<td style="text-align:right;width: 2cm; ">
1.187
</td>
<td style="text-align:right;width: 2cm; ">
1.035
</td>
<td style="text-align:right;width: 2cm; ">
0.854
</td>
<td style="text-align:right;width: 2cm; ">
0.530
</td>
<td style="text-align:right;width: 2cm; ">
0.437
</td>
<td style="text-align:right;width: 2cm; ">
0.347
</td>
<td style="text-align:right;width: 2cm; ">
0.324
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; ">
st4
</td>
<td style="text-align:right;width: 2cm; ">
NA
</td>
<td style="text-align:right;width: 2cm; ">
0.623
</td>
<td style="text-align:right;width: 2cm; ">
0.603
</td>
<td style="text-align:right;width: 2cm; ">
0.742
</td>
<td style="text-align:right;width: 2cm; ">
0.724
</td>
<td style="text-align:right;width: 2cm; ">
0.799
</td>
<td style="text-align:right;width: 2cm; ">
0.914
</td>
<td style="text-align:right;width: 2cm; ">
0.819
</td>
<td style="text-align:right;width: 2cm; ">
0.801
</td>
<td style="text-align:right;width: 2cm; ">
0.692
</td>
<td style="text-align:right;width: 2cm; ">
0.444
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; ">
st5
</td>
<td style="text-align:right;width: 2cm; ">
NA
</td>
<td style="text-align:right;width: 2cm; ">
0.350
</td>
<td style="text-align:right;width: 2cm; ">
0.415
</td>
<td style="text-align:right;width: 2cm; ">
0.421
</td>
<td style="text-align:right;width: 2cm; ">
0.566
</td>
<td style="text-align:right;width: 2cm; ">
0.592
</td>
<td style="text-align:right;width: 2cm; ">
0.591
</td>
<td style="text-align:right;width: 2cm; ">
0.634
</td>
<td style="text-align:right;width: 2cm; ">
0.751
</td>
<td style="text-align:right;width: 2cm; ">
0.774
</td>
<td style="text-align:right;width: 2cm; ">
0.575
</td>
</tr>
</tbody>
</table>
<p>The tidyr package can be used to gather these existing columns into a new variable. In this case, we need to create a new column called pressure and then gather the existing values in the these variable columns into the new pressure variable</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="tidy.html#cb165-1"></a>ctd.long =<span class="st"> </span>ctd.wide <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb165-2"><a href="tidy.html#cb165-2"></a><span class="st">      </span><span class="kw">gather</span> (<span class="dt">key =</span> <span class="st">&quot;depth&quot;</span>, <span class="dt">value =</span> <span class="st">&quot;fluorescence &quot;</span>,  <span class="dv">2</span><span class="op">:</span><span class="dv">12</span>)</span>
<span id="cb165-3"><a href="tidy.html#cb165-3"></a>ctd.long</span></code></pre></div>
<pre><code># A tibble: 55 x 3
   station depth `fluorescence `
   &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;
 1 st1     10              0.599
 2 st2     10              0.631
 3 st3     10              0.98 
 4 st4     10             NA    
 5 st5     10             NA    
 6 st1     20              0.678
 7 st2     20              0.733
 8 st3     20              0.934
 9 st4     20              0.623
10 st5     20              0.350
# ... with 45 more rows</code></pre>
<p>As you can see from the chunk above, there are three arguments required in the <code>gather()</code> function. First is the <code>key</code>, which takes the variable names. Second, the <code>value</code>—the name of the variable whose values are spread over the cells. Finnaly, then you specify the <code>set of columns</code> that hold the values and not the variable names</p>
</div>
<div id="spreadfrom-long-to-wide-format" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> spread—from long to wide format</h2>
<p>A second tidy tool is spread(), which does the opposite of <code>gather()</code> function. It is used to convert a long format data frame to wide format. What this function does is to spread observation across multiple rows.</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="tidy.html#cb167-1"></a>ctd.long <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb167-2"><a href="tidy.html#cb167-2"></a><span class="st">  </span><span class="kw">spread</span>(<span class="dt">key =</span> <span class="st">&quot;depth&quot;</span>, <span class="dt">value =</span> <span class="st">`</span><span class="dt">fluorescence </span><span class="st">`</span>)</span></code></pre></div>
<pre><code># A tibble: 5 x 12
  station   `10` `100` `110`  `20`  `30`  `40`  `50`  `60`  `70`  `80`
  &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 st1      0.599 0.221 0.138 0.678 0.729 0.693 0.752 1.10  0.857 0.481
2 st2      0.631 0.277 0.225 0.733 0.992 1.11  0.988 0.715 0.496 0.524
3 st3      0.98  0.347 0.324 0.934 1.15  1.20  1.19  1.03  0.854 0.530
4 st4     NA     0.692 0.444 0.623 0.603 0.742 0.724 0.799 0.914 0.819
5 st5     NA     0.774 0.575 0.350 0.415 0.421 0.566 0.592 0.591 0.634
# ... with 1 more variable: `90` &lt;dbl&gt;</code></pre>
<p>The <code>spread()</code> function takes two arguments: the column that contains variable names, known as the key and
a column that contains values from multiple variables – the value.</p>
</div>
<div id="separate-columns" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> separate columns</h2>
<p>Another common in tidyr package is a separate ()function, which split the variable into two or more variables. For example, the dataset below has a date column that actually contains the date and time variables separated by a space.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="tidy.html#cb169-1"></a>ctd</span></code></pre></div>
<pre><code># A tibble: 115 x 12
   station time                  lon   lat pressure temperature salinity
   &lt;chr&gt;   &lt;dttm&gt;              &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt;
 1 st1     2004-08-18 15:27:46  40.6 -10.5        5        25.2     33.9
 2 st1     2004-08-18 15:27:46  40.6 -10.5       10        25.1     34.9
 3 st1     2004-08-18 15:27:46  40.6 -10.5       15        25.1     34.9
 4 st1     2004-08-18 15:27:46  40.6 -10.5       20        25.0     34.9
 5 st1     2004-08-18 15:27:46  40.6 -10.5       25        24.9     34.9
 6 st1     2004-08-18 15:27:46  40.6 -10.5       30        24.9     34.9
 7 st1     2004-08-18 15:27:46  40.6 -10.5       35        24.9     34.9
 8 st1     2004-08-18 15:27:46  40.6 -10.5       40        24.9     34.9
 9 st1     2004-08-18 15:27:46  40.6 -10.5       45        24.8     34.9
10 st1     2004-08-18 15:27:46  40.6 -10.5       50        24.6     34.9
# ... with 105 more rows, and 5 more variables: oxygen &lt;dbl&gt;,
#   fluorescence &lt;dbl&gt;, spar &lt;dbl&gt;, par &lt;dbl&gt;, density &lt;dbl&gt;</code></pre>
<p>We use the <code>separate()</code> function splits the datetime column into two variables: date and time</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="tidy.html#cb171-1"></a>ctd <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb171-2"><a href="tidy.html#cb171-2"></a><span class="st">  </span><span class="kw">separate</span>(<span class="dt">col =</span> time, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;Date&quot;</span>, <span class="st">&quot;Time&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<pre><code># A tibble: 115 x 13
   station Date  Time    lon   lat pressure temperature salinity oxygen
   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;
 1 st1     2004~ 15:2~  40.6 -10.5        5        25.2     33.9   3.93
 2 st1     2004~ 15:2~  40.6 -10.5       10        25.1     34.9   4.49
 3 st1     2004~ 15:2~  40.6 -10.5       15        25.1     34.9   4.50
 4 st1     2004~ 15:2~  40.6 -10.5       20        25.0     34.9   4.51
 5 st1     2004~ 15:2~  40.6 -10.5       25        24.9     34.9   4.51
 6 st1     2004~ 15:2~  40.6 -10.5       30        24.9     34.9   4.50
 7 st1     2004~ 15:2~  40.6 -10.5       35        24.9     34.9   4.49
 8 st1     2004~ 15:2~  40.6 -10.5       40        24.9     34.9   4.48
 9 st1     2004~ 15:2~  40.6 -10.5       45        24.8     34.9   4.46
10 st1     2004~ 15:2~  40.6 -10.5       50        24.6     34.9   4.44
# ... with 105 more rows, and 4 more variables: fluorescence &lt;dbl&gt;,
#   spar &lt;dbl&gt;, par &lt;dbl&gt;, density &lt;dbl&gt;</code></pre>
<p>The <code>separate()</code> function accepts arguments for the name of the variable to separate. You also need to specify the names of the variable to separate into, and an optional separator.</p>
</div>
<div id="unite-columns" class="section level2" number="5.5">
<h2><span class="header-section-number">5.5</span> unite columns</h2>
<p>The unite()function is the exact opposite of <code>separate()</code> in that it combines multiple columns into a single column. While not used nearly as often as <code>separate()</code> , there may be times when you need the functionality provided by unite(). For example, we can combine the variable <code>Date</code> and <code>Time</code> to form <code>siku.muda</code>, and separate them with <code>:-:</code> symbol between the two variables.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="tidy.html#cb173-1"></a>ctd.un <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unite</span>(<span class="dt">col =</span> <span class="st">&quot;siku_muda&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;Date&quot;</span>, <span class="st">&quot;Time&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot;:-:&quot;</span>)</span></code></pre></div>
<pre><code># A tibble: 115 x 12
   station siku_muda   lon   lat pressure temperature salinity oxygen
   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;
 1 st1     2004-08-~  40.6 -10.5        5        25.2     33.9   3.93
 2 st1     2004-08-~  40.6 -10.5       10        25.1     34.9   4.49
 3 st1     2004-08-~  40.6 -10.5       15        25.1     34.9   4.50
 4 st1     2004-08-~  40.6 -10.5       20        25.0     34.9   4.51
 5 st1     2004-08-~  40.6 -10.5       25        24.9     34.9   4.51
 6 st1     2004-08-~  40.6 -10.5       30        24.9     34.9   4.50
 7 st1     2004-08-~  40.6 -10.5       35        24.9     34.9   4.49
 8 st1     2004-08-~  40.6 -10.5       40        24.9     34.9   4.48
 9 st1     2004-08-~  40.6 -10.5       45        24.8     34.9   4.46
10 st1     2004-08-~  40.6 -10.5       50        24.6     34.9   4.44
# ... with 105 more rows, and 4 more variables: fluorescence &lt;dbl&gt;,
#   spar &lt;dbl&gt;, par &lt;dbl&gt;, density &lt;dbl&gt;</code></pre>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-metr">
<p>Campitelli, Elio. 2019. <em>MetR: Tools for Easier Analysis of Meteorological Fields</em>. <a href="https://CRAN.R-project.org/package=metR">https://CRAN.R-project.org/package=metR</a>.</p>
</div>
<div id="ref-ggspatial">
<p>Dunnington, Dewey. 2020. <em>Ggspatial: Spatial Data Framework for Ggplot2</em>. <a href="https://CRAN.R-project.org/package=ggspatial">https://CRAN.R-project.org/package=ggspatial</a>.</p>
</div>
<div id="ref-sf">
<p>Pebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” <em>The R Journal</em> 10 (1): 439–46. <a href="https://doi.org/10.32614/RJ-2018-009">https://doi.org/10.32614/RJ-2018-009</a>.</p>
</div>
<div id="ref-wior">
<p>Semba, Masumbuko, and Nyamisi Peter. 2020. <em>Wior: Easy Tidy and Process Oceanographic Data</em>.</p>
</div>
<div id="ref-ggrepel">
<p>Slowikowski, Kamil. 2020. <em>Ggrepel: Automatically Position Non-Overlapping Text Labels with ’Ggplot2’</em>. <a href="https://CRAN.R-project.org/package=ggrepel">https://CRAN.R-project.org/package=ggrepel</a>.</p>
</div>
<div id="ref-ggplot">
<p>Wickham, Hadley. 2016. <em>Ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>.</p>
</div>
<div id="ref-tidyr">
<p>Wickham, Hadley. 2020. <em>Tidyr: Tidy Messy Data</em>. <a href="https://CRAN.R-project.org/package=tidyr">https://CRAN.R-project.org/package=tidyr</a>.</p>
</div>
<div id="ref-tidyverse">
<p>Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.</p>
</div>
<div id="ref-dplyr">
<p>Wickham, Hadley, Romain François, Lionel Henry, and Kirill Müller. 2020. <em>Dplyr: A Grammar of Data Manipulation</em>. <a href="https://CRAN.R-project.org/package=dplyr">https://CRAN.R-project.org/package=dplyr</a>.</p>
</div>
<div id="ref-r4ds">
<p>Wickham, Hadley, and Garrett Grolemund. 2016. <em>R for Data Science: Import, Tidy, Transform, Visualize, and Model Data</em>. " O’Reilly Media, Inc.".</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Data frame structured in wide format consist of each line or row represents observations and each each column represent a variable.<a href="tidy.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Unlike the wide format in which each column represent the variables, the long format also called indexing. In the long format, the column are values and not names<a href="tidy.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="readr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dplyr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["geoMarine.pdf", "geoMarine.epub"],
"toc": {
"collapse": "section",
"toc_depth": 2,
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
